#src/symfony/Resources/config/php7_runner_worker.yml
parameters:
  teknoo.east.bundle.coderunner.worker.vendor.shell.runner.class: 'AdamBrett\ShellWrapper\Runners\ShellExec'
  teknoo.east.bundle.coderunner.worker.vendor.shell.command.class: 'AdamBrett\ShellWrapper\Command'
  teknoo.east.bundle.coderunner.worker.vendor.gaufrette.filesystem.class: 'Gaufrette\Filesystem'
  teknoo.east.bundle.coderunner.worker.vendor.gaufrette.adapter.class: 'Gaufrette\Adapter\Local'

  teknoo.east.bundle.coderunner.worker.work_directory: ''
  teknoo.east.bundle.coderunner.worker.version: '0.0.1-alpha9'
  teknoo.east.bundle.coderunner.worker.composer.configuration.class: 'Teknoo\East\CodeRunner\Worker\ComposerConfigurator'
  teknoo.east.bundle.coderunner.worker.composer.configuration.command: ''
  teknoo.east.bundle.coderunner.worker.composer.configuration.instruction: 'install'
  teknoo.east.bundle.coderunner.worker.php7_runner.class: 'Teknoo\East\CodeRunner\Worker\PHP7Runner'
  teknoo.east.bundle.coderunner.worker.php_commander.class: 'Teknoo\East\CodeRunner\Worker\PHPCommander'
  teknoo.east.bundle.coderunner.worker.php_commander.command: ''

services:
  teknoo.east.bundle.coderunner.worker.vendor.shell.composer.command:
    class: '%teknoo.east.bundle.coderunner.worker.vendor.shell.command.class%'
    arguments:
      - '%teknoo.east.bundle.coderunner.worker.composer.configuration.command%'
    private: true

  teknoo.east.bundle.coderunner.worker.vendor.shell.php_commander.command:
    class: '%teknoo.east.bundle.coderunner.worker.vendor.shell.command.class%'
    arguments:
      - '%teknoo.east.bundle.coderunner.worker.php_commander.command%'
    private: true

  teknoo.east.bundle.coderunner.worker.vendor.shell.runner:
    class: '%teknoo.east.bundle.coderunner.worker.vendor.shell.runner.class%'
    private: true

  teknoo.east.bundle.coderunner.worker.vendor.gaufrette.adapter:
    class: '%teknoo.east.bundle.coderunner.worker.vendor.gaufrette.adapter.class%'
    arguments:
      - '%teknoo.east.bundle.coderunner.worker.work_directory%'
    private: true

  teknoo.east.bundle.coderunner.worker.vendor.gaufrette.filesystem:
    class: '%teknoo.east.bundle.coderunner.worker.vendor.gaufrette.filesystem.class%'
    private: true
    arguments:
      - '@teknoo.east.bundle.coderunner.worker.vendor.gaufrette.adapter'

  teknoo.east.bundle.coderunner.worker.composer.configuration:
    class: '%teknoo.east.bundle.coderunner.worker.composer.configuration.class%'
    arguments:
      - '@teknoo.east.bundle.coderunner.worker.vendor.shell.runner'
      - '@teknoo.east.bundle.coderunner.worker.vendor.shell.composer.command'
      - '@teknoo.east.bundle.coderunner.worker.vendor.gaufrette.filesystem'
      - '%teknoo.east.bundle.coderunner.worker.composer.configuration.instruction%'
      - '%teknoo.east.bundle.coderunner.worker.work_directory%'

  teknoo.east.bundle.coderunner.worker.php_commander:
    class: '%teknoo.east.bundle.coderunner.worker.php_commander.class%'
    arguments:
      - '@teknoo.east.bundle.coderunner.worker.vendor.shell.runner'
      - '@teknoo.east.bundle.coderunner.worker.vendor.shell.php_commander.command'
      - '@teknoo.east.bundle.coderunner.worker.vendor.gaufrette.filesystem'
      - '%teknoo.east.bundle.coderunner.worker.version%'

  teknoo.east.bundle.coderunner.worker.php7_runner:
    class: '%teknoo.east.bundle.coderunner.worker.php7_runner.class%'
    arguments:
      - '@teknoo.east.bundle.coderunner.vendor.old_sound_producer.remote_php7.status'
      - '@teknoo.east.bundle.coderunner.vendor.old_sound_producer.remote_php7.result'
      - '@logger'
      - '%teknoo.east.bundle.coderunner.worker.version%'
      - '@teknoo.east.bundle.coderunner.worker.composer.configuration'
      - '@teknoo.east.bundle.coderunner.worker.php_commander'
